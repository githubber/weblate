{% extends "base.html" %}
{% load url from future %}
{% load i18n %}
{% load static %}
{% load translations %}

{% block extra_meta %}
<link rel="canonical" href="{{ unit.get_absolute_url }}" />
{% endblock %}

{% block breadcrumbs %}
<li><a href="{{ translation.subproject.project.get_absolute_url }}">{{ translation.subproject.project }}</a></li>
<li><a href="{{ translation.subproject.get_absolute_url }}">{{ translation.subproject.name }}</a></li>
<li><a href="{{ translation.get_absolute_url }}">{{ translation.language }}</a></li>
<li><a href="{{ translation.get_translate_url }}">{% trans "zen" %}</a></li>
{% endblock %}

{% block content %}

{% with translation as object %}
{% include "show-lock.html" %}
{% endwith %}

<h2>{% trans "Translate" %}</h2>

{% if filter_name %}
<span class="navi-toolbar ui-widget-header ui-corner-all">
{% blocktrans %}Current filter: {{ filter_name }} ({{ filter_count }}){% endblocktrans %}
</span>
{% endif %}

<table class="zen">
{% for unit in unitdata %}
<tr>
<td>{{ unit.0.position }}</td>
<td>{{ unit.0.get_location_links }}</td>
<td>
<img src="{% get_media_prefix %}loading.gif" id="loading-{{ unit.0.checksum }}" style="display: none" />
<a href="{{ unit.0.get_absolute_url }}" class="menu-float small-button button" title="{% trans "Open in full editor" %}">{% trans "Edit" %}</a>
</td>
</tr>
<tr>
<td></td>
<td class="translatetext">{{ unit.0.source|fmtsearchmatch:search_query }}</td>
<td class="translator">
<form action="js-store" method="post">
{% csrf_token %}
{{ unit.1.checksum }}
{{ unit.1.target }}
<br />
{{ unit.1.fuzzy }}<label for="id_fuzzy">{% trans "Fuzzy" context "Message is fuzzy" %}</label>
</form>
</td>
</tr>
{% endfor %}
</table>

{% endblock %}
